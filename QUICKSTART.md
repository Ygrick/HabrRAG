# üöÄ Quick Start Guide

–ë—ã—Å—Ç—Ä—ã–π –≥–∞–π–¥ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ RAG API.

## 1Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á

1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ https://openrouter.ai/
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
3. –ü–æ–ª—É—á–∏—Ç—å API –∫–ª—é—á –≤ —Ä–∞–∑–¥–µ–ª–µ "API Keys"

## 2Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å `.env` —Ñ–∞–π–ª

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π:

```env
RAG_APP__LLM__API_KEY=sk-or-v1-... # –í–∞—à API –∫–ª—é—á –∏–∑ OpenRouter
```

–û—Å—Ç–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–æ–∑—å–º—É—Ç—Å—è –∏–∑ defaults. –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ `.env.example`.

## 3Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ UV (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
uv sync
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ PIP
```bash
python -m venv .venv
source .venv/bin/activate  # –î–ª—è Windows: .venv\Scripts\activate
pip install -r requirements.txt
```

## 4Ô∏è‚É£ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```bash
python main.py
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞: http://localhost:8000

## 5Ô∏è‚É£ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å API

### Health Check
```bash
curl http://localhost:8000/health
```

### –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å
```bash
curl -X POST "http://localhost:8000/answer" \
  -H "Content-Type: application/json" \
  -d '{"query": "What is machine learning?"}'
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–º–µ—Ä
```bash
python examples_api.py
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- Swagger UI: http://localhost:8000/docs
- ReDoc: http://localhost:8000/redoc

## üê≥ Docker

```bash
# –°–±–æ—Ä–∫–∞
docker build -t habrrag .

# –ó–∞–ø—É—Å–∫ (—Å GPU –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π)
docker run --gpus all -p 8000:8000 \
  -e RAG_APP__LLM__API_KEY=sk-or-v1-... \
  habrrag
```

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```env
# –ú–æ–¥–µ–ª—å LLM
RAG_APP__LLM__MODEL=qwen/qwen-2.5-7b-instruct:free
RAG_APP__LLM__TEMPERATURE=0.6
RAG_APP__LLM__MAX_TOKENS=1000

# Retrieval
RAG_APP__RETRIEVAL__TOP_K=3
RAG_APP__RETRIEVAL__ENSEMBLE_WEIGHTS_BM25=0.4
RAG_APP__RETRIEVAL__ENSEMBLE_WEIGHTS_FAISS=0.6

# FastAPI
RAG_APP__FASTAPI__HOST=0.0.0.0
RAG_APP__FASTAPI__PORT=8000

# MLflow (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
RAG_APP__MLFLOW__ENABLED=false
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "Import langchain_openai could not be resolved"
- –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ warning –æ—Ç –ª–∏–Ω—Ç–µ—Ä–∞ VS Code
- –ü–∞–∫–µ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø–æ—Å–ª–µ `uv sync` –∏–ª–∏ `pip install -r requirements.txt`

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: `python main.py`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å: `http://localhost:8000`

### –û—à–∏–±–∫–∞ —Å API –∫–ª—é—á–æ–º
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `.env` —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `RAG_APP__LLM__API_KEY` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω –≤ OpenRouter

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
HabrRAG/
‚îú‚îÄ‚îÄ main.py                 # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ settings.py             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ chunking.py         # –ß–∞–Ω–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ retrievers.py       # –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Ç—Ä–∏–≤–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ rag_pipeline.py     # RAG –ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ caching.py          # –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ logger.py           # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ prompts.py          # –ü—Ä–æ–º–ø—Ç—ã LLM
‚îú‚îÄ‚îÄ examples_api.py         # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ .env.example            # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ README.md              # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üéØ –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. –ò–∑—É—á–∏—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API: http://localhost:8000/docs
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤ `examples_api.py`
3. –ò–∑–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `.env` –¥–ª—è —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
4. –ß–∏—Ç–∞–π—Ç–µ –ª–æ–≥–∏ –≤ `./logs/app.log` –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

**Happy RAG-ging! üéâ**
